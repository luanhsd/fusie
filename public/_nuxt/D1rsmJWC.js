import{f as u,M as h,L as C,ac as g,k as d,o as m,w as p,r as f,l as s,R as v,aq as S,ak as _,ar as x,Z as z,a8 as w,a9 as y,n as A,m as $,U as R,an as k}from"./TeQBqRNB.js";const[B,L]=C("AvatarRoot"),I=u({__name:"AvatarRoot",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return h(),L({imageLoadingStatus:g("loading")}),(a,e)=>(m(),d(s(v),{"as-child":a.asChild,as:a.as},{default:p(()=>[f(a.$slots,"default")]),_:3},8,["as-child","as"]))}});function b(t,a){const e=g("idle"),o=g(!1),l=r=>()=>{o.value&&(e.value=r)};return S(()=>{o.value=!0,_([()=>t.value,()=>a==null?void 0:a.value],([r,c])=>{if(!r)e.value="error";else{const n=new window.Image;e.value="loading",n.onload=l("loaded"),n.onerror=l("error"),n.src=r,c&&(n.referrerPolicy=c)}},{immediate:!0})}),x(()=>{o.value=!1}),e}const j=u({__name:"AvatarImage",props:{src:{},referrerPolicy:{},asChild:{type:Boolean},as:{default:"img"}},emits:["loadingStatusChange"],setup(t,{emit:a}){const e=t,o=a,{src:l,referrerPolicy:r}=z(e);h();const c=B(),n=b(l,r);return _(n,i=>{o("loadingStatusChange",i),i!=="idle"&&(c.imageLoadingStatus.value=i)},{immediate:!0}),(i,q)=>w((m(),d(s(v),{role:"img","as-child":i.asChild,as:i.as,src:s(l),"referrer-policy":s(r)},{default:p(()=>[f(i.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[y,s(n)==="loaded"]])}}),U=u({__name:"Avatar",props:{class:{},size:{default:"sm"},shape:{default:"circle"}},setup(t){const a=t;return(e,o)=>(m(),d(s(I),{class:A(s($)(s(M)({size:e.size,shape:e.shape}),a.class))},{default:p(()=>[f(e.$slots,"default")]),_:3},8,["class"]))}}),D=u({__name:"AvatarImage",props:{src:{},referrerPolicy:{},asChild:{type:Boolean},as:{}},setup(t){const a=t;return(e,o)=>(m(),d(s(j),R(a,{class:"size-full object-cover"}),{default:p(()=>[f(e.$slots,"default")]),_:3},16))}}),M=k("bg-secondary text-foreground inline-flex shrink-0 select-none items-center justify-center overflow-hidden font-normal",{variants:{size:{sm:"size-10 text-xs",base:"size-16 text-2xl",lg:"size-32 text-5xl"},shape:{circle:"rounded-full",square:"rounded-md"}}});export{U as _,D as a};
